{"version":3,"file":"component---src-components-news-template-js-de048f258fe85440d83f.js","mappings":"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","sources":["webpack://gatsby-news/./src/components/Footer.js","webpack://gatsby-news/./src/components/Header.js","webpack://gatsby-news/./src/components/Layout.js","webpack://gatsby-news/./src/components/RatingComponent.js","webpack://gatsby-news/./src/components/rating.module.css","webpack://gatsby-news/./src/components/modal.module.css","webpack://gatsby-news/./src/components/ShowRatingButton.js","webpack://gatsby-news/./src/components/NewsTemplate.js","webpack://gatsby-news/./src/components/card.module.css"],"sourcesContent":["// src/components/Footer.js\nimport React from \"react\";\n\nconst Footer = () => {\n  return (\n    <footer>\n      <p>&copy; {new Date().getFullYear()} Claudia Torres Cruz</p>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import React from \"react\";\nimport { useStaticQuery, graphql, Link } from 'gatsby';\n\nconst Header = () => {\n  const data = useStaticQuery(graphql`\n    query {\n      site {\n        siteMetadata {\n          title\n        }\n      }\n    }\n  `);\n  return (\n    <header>\n      <h1>{data.site.siteMetadata.title}</h1>\n      <nav>\n        <Link to=\"/\">Inicio</Link> | <Link to=\"/tech\">Tecnología</Link> |{\" \"}\n        <Link to=\"/sports\">Deportes</Link> | <Link to=\"/health\">Salud</Link>\n      </nav>\n    </header>\n  );\n};\n\nexport default Header;\n","import React from 'react';\nimport Footer from './Footer';\nimport Header from './Header';\n\n\nconst Layout = ({ children }) => {\n  return (\n  <div>\n    <Header/>\n    <main>{children}</main>\n    <Footer/>\n  </div>\n)};\n\nexport default Layout;","// src/components/RatingComponent.js\nimport React, { useState } from \"react\";\nimport * as styles from \"./rating.module.css\"; \n\n\nconst RatingComponent = ({ onRate }) => {\n  const [selectedRating, setSelectedRating] = useState(0);\n\n  const setRating = (rating) => {\n    setSelectedRating(rating);\n    onRate(rating); // RATING HACIA EL PADRE (ShowRatingButton)\n  };\n\n  const handleKeyDown = (e, value) => {\n    if (e.key === \"Enter\" || e.key === \" \") {\n      setRating(value);\n    }\n  };\n\n  return (\n    <div className={styles.rating}>\n      {[1, 2, 3, 4, 5].map((value) => (\n        <span\n          key={value}\n          role=\"button\"\n          tabIndex={0}\n          className={`${styles.star} ${value <= selectedRating ? styles.selected : \"\"}`}\n          onClick={() => setRating(value)}\n          onKeyDown={(e) => handleKeyDown(e, value)}\n          aria-label={`Rate ${value} stars`}\n          style={{ cursor: \"pointer\" }}\n        >\n          {value <= selectedRating ? \"★\" : \"☆\"}\n        </span>\n      ))}\n    </div>\n  );\n};\n\nexport default RatingComponent;\n","// extracted by mini-css-extract-plugin\nexport var rating = \"rating-module--rating--1357a\";\nexport var selected = \"rating-module--selected--56efa\";\nexport var star = \"rating-module--star--a4836\";","// extracted by mini-css-extract-plugin\nexport var modalOverlay = \"modal-module--modalOverlay--4c169\";\nexport var ratingButton = \"modal-module--ratingButton--ea172\";\nexport var ratingModal = \"modal-module--ratingModal--28f9e\";\nexport var ratingModalButton = \"modal-module--ratingModalButton--0a08e\";","import React, { useState } from \"react\";\nimport { useRatings } from \"../context/RatingContext\";\nimport RatingComponent from \"./RatingComponent\"; \nimport * as styles from \"./modal.module.css\"; \n\nconst ShowRatingButton = ({ title }) => {\n  const { ratings, updateRating } = useRatings(); \n  const [modalVisible, setModalVisible] = useState(false);\n  \n  const ratingData = ratings.find((item) => item.title === title) || { avgRating: 0, count: 0 };\n\n  const showRatings = () => {\n    setModalVisible(true);\n  };\n\n  const closeModal = () => {\n    setModalVisible(false);\n  };\n\n  const handleRatingChange = (rating) => {\n    updateRating(title, rating); \n  };\n\n  return (\n    <>\n      <button id={styles} onClick={showRatings} className={styles.ratingButton}>\n        Ver valoraciones\n      </button>\n      {modalVisible && (\n        <div className={styles.modalOverlay}>\n          <div className={styles.ratingModal}>\n            <h3>Valoraciones para \"{title}\"</h3>\n            <p><strong>Promedio:</strong> {ratingData.avgRating.toFixed(2)} estrellas</p>\n            <p><strong>Cantidad:</strong> {ratingData.count} valoraciones</p>\n            <button onClick={closeModal} className={styles.ratingModalButton}>Cerrar</button>\n          </div>\n        </div>\n      )}\n      <RatingComponent onRate={handleRatingChange} />\n    </>\n  );\n};\n\nexport default ShowRatingButton;\n","import Layout from \"./Layout\";\nimport React, { useState, useEffect } from 'react';\nimport * as styles from \"./card.module.css\"; \nimport ShowRatingButton from \"./ShowRatingButton\";\n\nconst NewsTemplate = ({ pageContext }) => {\n  const { topic, articles } = pageContext;\n  const [daysElapsed, setDaysElapsed] = useState(0);\n\n  useEffect(() => {\n    const calculateDaysElapsed = (publishedDate) => {\n      const newsDate = new Date(publishedDate);\n      const today = new Date();\n      const timeDiff = today - newsDate;\n      const days = Math.floor(timeDiff / (1000 * 60 * 60 * 24));\n      setDaysElapsed(days);\n    };\n    if (articles.length > 0) {\n      calculateDaysElapsed(articles[0].published_at);\n    }\n  }, [articles]);\n\n  const formatDate = (dateString) => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString(); \n  };\n\n  const topicNames = {\n    tech: 'tecnología',\n    health: 'salud',\n    sports: 'deportes',\n  };\n\n  const topicTitle = topicNames[topic] || topic;\n\n  return (\n    <Layout>\n      <h1 className={styles.topicTitle}>Noticias sobre {topicTitle}</h1>\n      <div className={styles.newsGrid}>\n      {articles.map((article) => (\n        <div key={article.uuid} className={styles.card}>\n          <img src={article.image_url} alt={article.title} />\n          <div className={styles.cardContent}>\n            <h3 className={styles.title}>{article.title}</h3>\n            <p className={styles.snippet}>{article.description}</p>\n          </div>\n          <div className={styles.cardFooter}>\n            <span>{formatDate(article.published_at)}</span>\n            <a\n              className={styles.readMore}\n              href={article.url}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              Leer más\n            </a>\n          </div>\n          <div\n            style={{\n              top: \"5px\",\n              right: \"5px\",\n              fontSize: \"12px\",\n              color: \"gray\",\n              marginTop: \"5px\",\n            }}\n          >\n            Han pasado {daysElapsed} días\n          </div>\n          <div className={styles.ratingContainer}>\n            <ShowRatingButton title={article.title} />\n          </div>\n        </div>\n      ))}\n      </div>\n    </Layout>\n  );\n};\n\nexport default NewsTemplate;\n","// extracted by mini-css-extract-plugin\nexport var backToHome = \"card-module--backToHome--8a4c8\";\nexport var card = \"card-module--card--63c6d\";\nexport var cardContent = \"card-module--cardContent--c4158\";\nexport var cardFooter = \"card-module--cardFooter--059f8\";\nexport var newsGrid = \"card-module--newsGrid--2e8a7\";\nexport var ratingContainer = \"card-module--ratingContainer--d6601\";\nexport var readMore = \"card-module--readMore--cd884\";\nexport var snippet = \"card-module--snippet--2e9a8\";\nexport var title = \"card-module--title--65e8b\";\nexport var topicTitle = \"card-module--topicTitle--a00ee\";"],"names":["Footer","React","Date","getFullYear","Header","data","useStaticQuery","site","siteMetadata","title","Link","to","_ref","children","onRate","selectedRating","setSelectedRating","useState","setRating","rating","className","map","value","key","role","tabIndex","styles","onClick","onKeyDown","e","handleKeyDown","style","cursor","modalOverlay","ratingButton","ratingModal","ratingModalButton","ratings","updateRating","useRatings","modalVisible","setModalVisible","ratingData","find","item","avgRating","count","id","showRatings","toFixed","closeModal","RatingComponent","pageContext","topic","articles","daysElapsed","setDaysElapsed","useEffect","length","publishedDate","newsDate","timeDiff","days","Math","floor","calculateDaysElapsed","published_at","topicTitle","tech","health","sports","Layout","article","uuid","src","image_url","alt","description","dateString","toLocaleDateString","href","url","target","rel","top","right","fontSize","color","marginTop","ShowRatingButton"],"sourceRoot":""}